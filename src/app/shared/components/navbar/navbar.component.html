<nav class="bg-gray-300 border-gray-200 dark:bg-gray-900 sticky top-0 w-full z-50">
  <div class="max-w-screen-3xl flex items-center justify-between mx-auto py-3 px-6">

    <!-- Logo -->
    <a routerLink="/home" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="/assets/images/freshcart-logo.svg" alt="fresh cart-logo" />
    </a>

    <!-- Mobile button: Opens Drawer -->
    <div class="flex justify-center items-center gap-4">
      <div class="block sm:block md:hidden ">
          <a routerLink="/cart"
            class="block relative py-2 px-3 md:p-2 text-4xl text-green-800 hover:text-green-900 transition">
            <i class="fas fa-shopping-cart"></i>
            <span class="absolute p-1 rounded bg-gray-400 text-sm text-green-700 top-0 right-0">
              {{ count() }}
            </span>
          </a>
        </div>

      <button
      type="button"
      data-drawer-target="mobile-menu"
      data-drawer-show="mobile-menu"
      aria-controls="mobile-menu"
      class="cursor-pointer inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 focus:outline-none"
    >
      <svg class="w-5 h-5" aria-hidden="true" fill="none" viewBox="0 0 17 14">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M1 1h15M1 7h15M1 13h15" />
      </svg>
    </button>
    </div>

    <!-- Desktop Menu -->
    <div class="hidden grow w-full md:flex md:w-auto px-2">

      @if (isLogin() === true) {
      <ul
        class="font-medium ms-2 flex flex-col p-4 md:p-0 mt-4 border items-center border-gray-100 rounded-lg md:flex-row md:space-x-4 rtl:space-x-reverse md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"
      >
        <li><a routerLink="/home" routerLinkActive="text-white bg-green-600"
            class="block py-2 px-3 rounded-sm md:p-2 text-gray-600 hover:text-green-800 transition">Home</a></li>
        <li><a routerLink="/products" routerLinkActive="text-white bg-green-600"
            class="block py-2 px-3 rounded-sm md:p-2 text-gray-600 hover:text-green-800 transition">Products</a></li>
        <li><a routerLink="/categories" routerLinkActive="text-white bg-green-600"
            class="block py-2 px-3 rounded-sm md:p-2 text-gray-600 hover:text-green-800 transition">Categories</a></li>
        <li><a routerLink="/brands" routerLinkActive="text-white bg-green-600"
            class="block py-2 px-3 rounded-sm md:p-2 text-gray-600 hover:text-green-800 transition">Brands</a></li>
      </ul>
      }

      <!-- Social + Login/Cart -->
      <ul
        class="font-medium ms-auto flex items-center flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:flex-row md:space-x-4 rtl:space-x-reverse md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"
      >
        <li class="flex items-center space-x-2">
          <a class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-instagram"></i></a>
          <a href="https://www.facebook.com/" target="_blank"
            class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-facebook"></i></a>
          <a class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-tiktok"></i></a>
          <a class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-twitter"></i></a>
          <a class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-linkedin"></i></a>
          <a class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800"><i class="fa-brands fa-youtube"></i></a>
        </li>

        @if (isLogin() === false) {
        <li><a routerLink="/login" class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800">Log in</a></li>
        <li><a routerLink="/register" class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800">Register</a></li>
        } @else {
        <li>
          <a routerLink="/cart"
            class="block relative py-2 px-3 md:p-2 text-4xl text-green-800 hover:text-green-900 transition">
            <i class="fas fa-shopping-cart"></i>
            <span class="absolute p-1 rounded bg-gray-400 text-sm text-green-700 top-0 right-0">
              {{ count() }}
            </span>
          </a>
        </li>
        <li>
          <a (click)="logOut()" class="block py-2 px-3 md:p-2 text-gray-600 hover:text-green-800 cursor-pointer">
            Sign out
          </a>
        </li>
        }
      </ul>
    </div>
  </div>
</nav>

<!-- ============================= -->
<!-- ðŸ“± OFF-CANVAS MOBILE MENU -->
<!-- ============================= -->

<app-off-canvas [isLogin]="isLogin()"></app-off-canvas>
